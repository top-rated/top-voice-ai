<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Subscribe to LinkedIn Top Voices GPT</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://js.stripe.com/v3/"></script>
  <style>
    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    
    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      background-size: 200% 200%;
      animation: gradient 15s ease infinite;
    }
    
    .pattern {
      background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    }
    
    .glass {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .animate-fade-in {
      animation: fadeIn 0.5s ease-in-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body class="bg-gradient-to-br from-gray-900 via-blue-900 to-indigo-900 text-white pattern">
  <div class="absolute top-4 left-4 flex items-center opacity-80">
    <!-- LinkedIn Logo SVG -->
    <svg class="w-6 h-6 mr-2" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
    </svg>
    <span class="text-sm font-medium">LinkedIn Top Voices GPT</span>
  </div>
  
  <section class="container mx-auto px-4 py-16 max-w-4xl">
    <div class="text-center mb-12">
      <h1 class="text-4xl md:text-5xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-blue-300 to-purple-300">
        Unlock Premium Features
      </h1>
      <p class="text-xl text-blue-200 max-w-2xl mx-auto">
        Subscribe to access advanced LinkedIn insights and content generation powered by real Top Voices data
      </p>
    </div>
    
    <div class="grid md:grid-cols-2 gap-8 mb-12">
      <div class="glass rounded-xl p-6 animate-fade-in">
        <div class="flex items-center mb-4">
          <svg class="w-6 h-6 text-blue-400 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
          </svg>
          <h3 class="text-xl font-semibold">Premium Features</h3>
        </div>
        <ul class="space-y-3 text-blue-100">
          <li class="flex items-start">
            <svg class="w-5 h-5 text-green-400 mr-2 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
            </svg>
            <span>Analyze LinkedIn profile URLs</span>
          </li>
          <li class="flex items-start">
            <svg class="w-5 h-5 text-green-400 mr-2 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
            </svg>
            <span>Search last 24hr posts by keyword</span>
          </li>
          <li class="flex items-start">
            <svg class="w-5 h-5 text-green-400 mr-2 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
            </svg>
            <span>Match writing style from user-chosen profiles</span>
          </li>
          <li class="flex items-start">
            <svg class="w-5 h-5 text-green-400 mr-2 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
            </svg>
            <span>Advanced engagement analytics</span>
          </li>
          <li class="flex items-start">
            <svg class="w-5 h-5 text-green-400 mr-2 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
            </svg>
            <span>Priority support</span>
          </li>
        </ul>
      </div>
      
      <div class="glass rounded-xl p-6 animate-fade-in">
        <h3 class="text-xl font-semibold mb-4">Subscribe Now</h3>
        <form id="payment-form" class="space-y-4">
          <div>
            <label for="email" class="block text-sm font-medium text-blue-200 mb-1">Email Address</label>
            <input type="email" id="email" name="email" required
              class="w-full px-4 py-2 rounded-md bg-white/10 border border-white/20 text-white placeholder-blue-300/50 focus:outline-none focus:ring-2 focus:ring-blue-500"
              placeholder="your@email.com">
          </div>
          
          <div class="pt-2">
            <button type="submit" id="checkout-button" 
              class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200 flex items-center justify-center">
              <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path>
              </svg>
              Secure Checkout
            </button>
          </div>
          
          <div class="text-center text-sm text-blue-300/70 pt-2">
            <p>Supports credit card, Apple Pay, Google Pay, and PayPal</p>
            <div class="flex justify-center space-x-3 mt-2">
              <svg class="h-6 w-auto opacity-70" viewBox="0 0 24 24" fill="currentColor">
                <path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/>
              </svg>
              <svg class="h-6 w-auto opacity-70" viewBox="0 0 24 24" fill="currentColor">
                <path d="M17.5 12.5c0-.28-.22-.5-.5-.5s-.5.22-.5.5.22.5.5.5.5-.22.5-.5zm-5-3c0-.28-.22-.5-.5-.5s-.5.22-.5.5.22.5.5.5.5-.22.5-.5zm3 3c0-.28-.22-.5-.5-.5s-.5.22-.5.5.22.5.5.5.5-.22.5-.5zm-9 0c-.83 0-1.5.67-1.5 1.5S5.67 15 6.5 15 8 14.33 8 13.5 7.33 12.5 6.5 12.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8z"/>
              </svg>
              <svg class="h-6 w-auto opacity-70" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5.5-2.5l7.51-3.49L17.5 6.5 9.99 9.99 6.5 17.5zm5.5-6.6c.61 0 1.1.49 1.1 1.1s-.49 1.1-1.1 1.1-1.1-.49-1.1-1.1.49-1.1 1.1-1.1z"/>
              </svg>
            </div>
          </div>
        </form>
        
        <div id="error-message" class="mt-4 text-red-400 text-sm hidden"></div>
        <div id="success-message" class="mt-4 text-green-400 text-sm hidden"></div>
      </div>
    </div>
    
    <div class="text-center">
      <p class="text-sm text-blue-200/50">
        By subscribing, you agree to our <a href="/privacy" class="underline hover:text-blue-300">Privacy Policy</a> and <a href="/terms" class="underline hover:text-blue-300">Terms of Service</a>
      </p>
    </div>
  </section>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('payment-form');
      const errorMessage = document.getElementById('error-message');
      const successMessage = document.getElementById('success-message');
      const checkoutButton = document.getElementById('checkout-button');
      
      form.addEventListener('submit', async function(event) {
        event.preventDefault();
        
        // Clear previous messages
        errorMessage.textContent = '';
        errorMessage.classList.add('hidden');
        successMessage.textContent = '';
        successMessage.classList.add('hidden');
        
        // Disable the button to prevent multiple submissions
        checkoutButton.disabled = true;
        checkoutButton.textContent = 'Processing...';
        
        const email = document.getElementById('email').value;
        
        if (!email) {
          errorMessage.textContent = 'Please enter your email address';
          errorMessage.classList.remove('hidden');
          checkoutButton.disabled = false;
          checkoutButton.innerHTML = '<svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path></svg>Secure Checkout';
          return;
        }
        
        try {
          // Create checkout session
          const response = await fetch('/api/v1/stripe/create-checkout-session', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              email,
              successUrl: window.location.origin + '/checkout-success.html',
              cancelUrl: window.location.origin + '/checkout.html',
            }),
          });
          
          const data = await response.json();
          
          if (data.success && data.url) {
            // Redirect to Stripe Checkout
            window.location.href = data.url;
          } else {
            throw new Error(data.message || 'Failed to create checkout session');
          }
        } catch (error) {
          console.error('Error:', error);
          errorMessage.textContent = error.message || 'An error occurred. Please try again.';
          errorMessage.classList.remove('hidden');
          checkoutButton.disabled = false;
          checkoutButton.innerHTML = '<svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path></svg>Secure Checkout';
        }
      });
    });
  </script>
</body>
</html>
